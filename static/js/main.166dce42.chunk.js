(window.webpackJsonpnoiser=window.webpackJsonpnoiser||[]).push([[0],{14:function(e,a,t){"use strict";t.r(a);var n,l,c,r,o,i,s,u,m,d,f=t(0),g=t.n(f),y=t(5),v=t.n(y),p=(t(4),t(1)),h=t(2),b=t(7),E=t(6),k=t(8);n=new(window.AudioContext||window.webkitAudioContext);var w=new(function(){function e(){Object(p.a)(this,e)}return Object(h.a)(e,[{key:"init",value:function(){(r=n.createGain()).gain.setValueAtTime(1,n.currentTime),(c=n.createBiquadFilter()).type="lowshelf",c.frequency.setValueAtTime(1e3,n.currentTime),c.gain.setValueAtTime(25,n.currentTime),(l=n.createOscillator()).type="sine",l.frequency.value=440,(o=n.createOscillator()).type="sine",o.frequency.value=20,o.connect(r.gain),l.connect(c),c.connect(r),o.start(),l.start(),s=r,(i=n.createDelay()).delayTime.value=.5,(u=n.createGain()).gain.value=.8,i.connect(u),u.connect(i),s.connect(i)}},{key:"start",value:function(){"running"!==n.state&&n.resume(),r.connect(n.destination),s.connect(n.destination),i.connect(n.destination)}},{key:"stop",value:function(){r.disconnect(n.destination),i.disconnect(n.destination)}},{key:"changeFreq",value:function(e){console.log("DCO frequency: "+e+" Hz"),l.frequency.value=e}},{key:"changeFilterFreq",value:function(e){console.log("Filter frequency: "+e+" Hz"),c.frequency.value=e}},{key:"changeAmp",value:function(e){console.log("Volume: "+e),r.gain.value=e,s.gain.value=e}},{key:"changeLfoSpeed",value:function(e){console.log("LFO speed: "+e+" Hz"),o.frequency.value=e}},{key:"changeDelayTime",value:function(e){console.log("Delay time: "+e),i.delayTime.value=e}},{key:"changeDelayFeedback",value:function(e){console.log("Delay feedback: "+e),u.gain.value=e}},{key:"startRecording",value:function(){d=n.createMediaStreamDestination(),r.connect(d),s.connect(d),i.connect(d);(m=new MediaRecorder(d.stream,{audioBitsPerSecond:128e3,mimeType:"audio/webm"})).start()}},{key:"stopRecording",value:function(){m.addEventListener("dataavailable",function(e){document.querySelector("#recording").src=URL.createObjectURL(e.data),m=null,d=null}),m.stop()}}]),e}()),q=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(b.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(l)))).state={playing:!1,recording:!1},t.startSynth=function(e){e?(w.stop(),t.setState({playing:!1})):(w.start(),t.setState({playing:!0}))},t.toggleRecording=function(e){e?(w.stopRecording(),t.setState({recording:!1})):(w.startRecording(),t.setState({recording:!0}))},t}return Object(k.a)(a,e),Object(h.a)(a,[{key:"componentDidMount",value:function(){w.init()}},{key:"handleChange",value:function(e){var a=e.target;switch(a.name){case"freq":w.changeFreq(a.value);break;case"filter-freq":w.changeFilterFreq(a.value);break;case"amp":w.changeAmp(a.value);break;case"lfo":w.changeLfoSpeed(a.value);break;case"delay-time":w.changeDelayTime(a.value);break;case"delay-feedback":w.changeDelayFeedback(a.value);break;default:console.log("Default case")}}},{key:"render",value:function(){var e=this;return g.a.createElement("div",null,g.a.createElement("div",{className:"top"},g.a.createElement("button",{className:"on-btn",onClick:function(){return e.startSynth(e.state.playing)}},this.state.playing?"On":"Off"),g.a.createElement("p",{className:"title"},"NOISER"),g.a.createElement("button",{className:"record-btn",onClick:function(){return e.toggleRecording(e.state.recording)},name:this.state.recording?"stop":"record"},g.a.createElement("div",{className:this.state.recording?"square":"circle"}))),g.a.createElement("div",{className:"controls"},g.a.createElement("div",{className:"module"},g.a.createElement("label",{className:"module-Title first-module-title",for:"delay-module"},"Source"),g.a.createElement("div",{name:"delay-module",className:"controls"},g.a.createElement("div",{className:"control first-control"},g.a.createElement("input",{type:"range",orient:"vertical",name:"amp",min:"0",max:"1",step:"0.01",onInput:this.handleChange}),g.a.createElement("label",{for:"amp"},"DCO Volume")),g.a.createElement("div",{className:"control"},g.a.createElement("input",{type:"range",orient:"vertical",name:"freq",defaultValue:"440",min:"10",max:"8000",step:"1",onInput:this.handleChange}),g.a.createElement("label",{for:"freq"},"DCO")),g.a.createElement("div",{className:"control"},g.a.createElement("input",{type:"range",orient:"vertical",name:"filter-freq",defaultValue:"1000",min:"20",max:"8000",step:"1",onInput:this.handleChange}),g.a.createElement("label",{for:"filter-freq"},"LPF")),g.a.createElement("div",{className:"control"},g.a.createElement("input",{type:"range",orient:"vertical",name:"lfo",defaultValue:"20",min:"1",max:"100",step:"1",onInput:this.handleChange}),g.a.createElement("label",{for:"lfo"},"LFO")))),g.a.createElement("div",{className:"module"},g.a.createElement("label",{className:"module-Title",for:"delay-module"},"Delay"),g.a.createElement("div",{name:"delay-module",className:"controls"},g.a.createElement("div",{className:"control"},g.a.createElement("input",{type:"range",orient:"vertical",name:"delay-time",defaultValue:"0.5",min:"0",max:"1",step:"0.05",onInput:this.handleChange}),g.a.createElement("label",{for:"delay-time"},"Time")),g.a.createElement("div",{className:"control"},g.a.createElement("input",{type:"range",orient:"vertical",name:"delay-feedback",defaultValue:"0.8",min:"0",max:"0.9",step:"0.1",onInput:this.handleChange}),g.a.createElement("label",{for:"delay-feedback"},"Feedback"))))),g.a.createElement("div",{className:"recording"}),g.a.createElement("h3",null,"Recordings"),g.a.createElement("ol",{id:"recordingsList"},g.a.createElement("audio",{id:"recording",controls:!0})),g.a.createElement("div",{class:"description"},g.a.createElement("p",null,"Noiser uses the Web Audio API to create earthshattering dubbed out noise.",g.a.createElement("br",null),g.a.createElement("br",null),"Try sweeping through the frequencies with the digitally controlled oscillator (DCO) to build up a wall of noise.")))}}]),a}(f.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));v.a.render(g.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},4:function(e,a,t){},9:function(e,a,t){e.exports=t(14)}},[[9,1,2]]]);
//# sourceMappingURL=main.166dce42.chunk.js.map