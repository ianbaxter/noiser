(window["webpackJsonpwradio-wrangler"]=window["webpackJsonpwradio-wrangler"]||[]).push([[0],{14:function(e,a,t){"use strict";t.r(a);var n,c,l,r,o,i,s,u,m,d,g=t(0),f=t.n(g),v=t(5),y=t.n(v),p=(t(4),t(1)),h=t(2),E=t(7),b=t(6),k=t(8);n=new(window.AudioContext||window.webkitAudioContext);var w=new(function(){function e(){Object(p.a)(this,e)}return Object(h.a)(e,[{key:"init",value:function(){(r=n.createGain()).gain.setValueAtTime(1,n.currentTime),(l=n.createBiquadFilter()).type="lowshelf",l.frequency.setValueAtTime(1e3,n.currentTime),l.gain.setValueAtTime(25,n.currentTime),(c=n.createOscillator()).type="sine",c.frequency.value=440,(o=n.createOscillator()).type="sine",o.frequency.value=20,o.connect(r.gain),c.connect(l),l.connect(r),o.start(),c.start(),s=r,(i=n.createDelay()).delayTime.value=.5,(u=n.createGain()).gain.value=.8,i.connect(u),u.connect(i),s.connect(i)}},{key:"start",value:function(){"running"!==n.state&&n.resume(),r.connect(n.destination),s.connect(n.destination),i.connect(n.destination)}},{key:"stop",value:function(){r.disconnect(n.destination),i.disconnect(n.destination)}},{key:"changeFreq",value:function(e){console.log("DCO frequency: "+e+" Hz"),c.frequency.value=e}},{key:"changeFilterFreq",value:function(e){console.log("Filter frequency: "+e+" Hz"),l.frequency.value=e}},{key:"changeAmp",value:function(e){console.log("Volume: "+e),r.gain.value=e,s.gain.value=e}},{key:"changeLfoSpeed",value:function(e){console.log("LFO speed: "+e+" Hz"),o.frequency.value=e}},{key:"changeDelayTime",value:function(e){console.log("Delay time: "+e),i.delayTime.value=e}},{key:"changeDelayFeedback",value:function(e){console.log("Delay feedback: "+e),u.gain.value=e}},{key:"startRecording",value:function(){d=n.createMediaStreamDestination(),r.connect(d),s.connect(d),i.connect(d);(m=new MediaRecorder(d.stream,{audioBitsPerSecond:128e3,mimeType:"audio/webm"})).start()}},{key:"stopRecording",value:function(){m.addEventListener("dataavailable",function(e){document.querySelector("#recording").src=URL.createObjectURL(e.data),m=null,d=null}),m.stop()}}]),e}()),q=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(t=Object(E.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(c)))).state={playing:!1,recording:!1},t.startSynth=function(e){e?(w.stop(),t.setState({playing:!1})):(w.start(),t.setState({playing:!0}))},t.toggleRecording=function(e){e?(w.stopRecording(),t.setState({recording:!1})):(w.startRecording(),t.setState({recording:!0}))},t}return Object(k.a)(a,e),Object(h.a)(a,[{key:"componentDidMount",value:function(){w.init()}},{key:"handleChange",value:function(e){var a=e.target;switch(a.name){case"freq":w.changeFreq(a.value);break;case"filter-freq":w.changeFilterFreq(a.value);break;case"amp":w.changeAmp(a.value);break;case"lfo":w.changeLfoSpeed(a.value);break;case"delay-time":w.changeDelayTime(a.value);break;case"delay-feedback":w.changeDelayFeedback(a.value);break;default:console.log("Default case")}}},{key:"render",value:function(){var e=this;return f.a.createElement("div",null,f.a.createElement("div",{className:"top"},f.a.createElement("button",{className:"on-btn",onClick:function(){return e.startSynth(e.state.playing)}},this.state.playing?"On":"Off"),f.a.createElement("p",{className:"title"},"NOISER"),f.a.createElement("button",{className:"record-btn",onClick:function(){return e.toggleRecording(e.state.recording)},name:this.state.recording?"stop":"record"},f.a.createElement("div",{className:this.state.recording?"square":"circle"}))),f.a.createElement("div",{className:"controls"},f.a.createElement("div",{className:"module"},f.a.createElement("label",{className:"module-Title first-module-title",for:"delay-module"},"Source"),f.a.createElement("div",{name:"delay-module",className:"controls"},f.a.createElement("div",{className:"control first-control"},f.a.createElement("input",{type:"range",orient:"vertical",name:"amp",min:"0",max:"1",step:"0.01",onInput:this.handleChange}),f.a.createElement("label",{for:"amp"},"DCO Volume")),f.a.createElement("div",{className:"control"},f.a.createElement("input",{type:"range",orient:"vertical",name:"freq",min:"10",max:"8000",step:"1",onInput:this.handleChange}),f.a.createElement("label",{for:"freq"},"DCO")),f.a.createElement("div",{className:"control"},f.a.createElement("input",{type:"range",orient:"vertical",name:"filter-freq",min:"20",max:"8000",step:"1",onInput:this.handleChange}),f.a.createElement("label",{for:"filter-freq"},"LPF")),f.a.createElement("div",{className:"control"},f.a.createElement("input",{type:"range",orient:"vertical",name:"lfo",min:"1",max:"100",step:"1",onInput:this.handleChange}),f.a.createElement("label",{for:"lfo"},"LFO")))),f.a.createElement("div",{className:"module"},f.a.createElement("label",{className:"module-Title",for:"delay-module"},"Delay"),f.a.createElement("div",{name:"delay-module",className:"controls"},f.a.createElement("div",{className:"control"},f.a.createElement("input",{type:"range",orient:"vertical",name:"delay-time",min:"0",max:"1",step:"0.05",onInput:this.handleChange}),f.a.createElement("label",{for:"delay-time"},"Time")),f.a.createElement("div",{className:"control"},f.a.createElement("input",{type:"range",orient:"vertical",name:"delay-feedback",min:"0",max:"0.9",step:"0.1",onInput:this.handleChange}),f.a.createElement("label",{for:"delay-feedback"},"Feedback"))))),f.a.createElement("div",{className:"recording"}),f.a.createElement("h3",null,"Recordings"),f.a.createElement("ol",{id:"recordingsList"},f.a.createElement("audio",{id:"recording",controls:!0})))}}]),a}(g.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));y.a.render(f.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},4:function(e,a,t){},9:function(e,a,t){e.exports=t(14)}},[[9,1,2]]]);
//# sourceMappingURL=main.7ef14b8e.chunk.js.map